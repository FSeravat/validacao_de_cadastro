<section class="vh-100 gradient-custom">
    <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-12 col-md-8 col-lg-6 col-xl-5">
                <div class="card bg-dark text-white" style="border-radius: 1rem;">
                    <div class="card-body p-5 text-center">
                        <div class="mb-md-5 mt-md-4 pb-5">
                            <form method="post" action="cadastro">
                                <h2 class="fw-bold mb-2 text-uppercase">Cadastro</h2>
                                <p class="text-white-50 mb-5">Fico feliz que deseja compartilhar suas opiniões sobre
                                    filmes e séries conosco,
                                    preencha os campos abaixos para criar o seu cadastro.</p>
                                <div class="form-outline form-white mb-4">
                                    <input type="text" id="typeNameX" class="form-control form-control-lg"
                                        oninput="checarNome()" name="nome" required />
                                    <label class="form-label" for="typeEmailX">Nome</label>
                                    <div class="invalid-feedback">
                                        <p id="invalidName">Por favor, digite o seu nome</p>
                                    </div>
                                </div>
                                <div class="form-outline form-white mb-4">
                                    <input type="email" id="typeEmailX" class="form-control form-control-lg"
                                        oninput="checarEmail()" name="email" required />
                                    <label class="form-label" for="typeEmailX">Email</label>
                                    <div class="invalid-feedback">
                                        <p id="invalidEmail">Por favor, digite o seu email</p>
                                    </div>
                                </div>
                                <div class="form-outline form-white mb-4">
                                    <input type="password" id="typePasswordX" oninput="checarSenha()"
                                        class="form-control form-control-lg" name="senha" required />
                                    <label class="form-label" for="typePasswordX">Senha</label>
                                    <div class="invalid-feedback">
                                        <p id="invalidPassword">Por favor, digite a sua senha</p>
                                    </div>
                                </div>
                                {{!-- <button class="btn btn-outline-light btn-lg px-5" type="button" id="buttonSubmit"
                                    onclick="Enviar()">Criar cadastro</button> --}}
                                <input class="btn btn-outline-light btn-lg px-5" id="buttonSubmit"
                                    onclick="Enviar()" value="Criar cadastro" type="submit">
                                <div class="invalid-feedback">
                                    <p id="invalidPassword">Ops! Algo deu errado. Por favor, confira os campos acima</p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    function checarNome() {
        nome = document.getElementById("typeNameX").value;
        classes = document.getElementById("typeNameX").classList;
        if (nome.match(/\d+/) != null || nome == "") {
            document.getElementById("typeNameX").classList.add("is-invalid");
            nome == "" ? "Por favor, digite o seu nome" : document.getElementById("invalidName").innerHTML = "Nome inválido";
        } else {
            classes.contains("is-invalid") ? classes.replace("is-invalid", "is-valid") : classes.add("is-valid");
        }
    }

    function validarEmail(email) {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }

    function checarEmail() {
        email = document.getElementById("typeEmailX").value;
        classes = document.getElementById("typeEmailX").classList;
        if (!validarEmail(email) || email == "") {
            document.getElementById("typeEmailX").classList.add("is-invalid");
            email == "" ? "Por favor, digite o seu email" : document.getElementById("invalidEmail").innerHTML = "Email inválido";
        } else {
            classes.contains("is-invalid") ? classes.replace("is-invalid", "is-valid") : classes.add("is-valid");
        }
    }

    function validarSenha(senha) {
        re = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/
        return re.test(senha);
    }

    function checarSenha() {
        senha = document.getElementById("typePasswordX").value;
        classes = document.getElementById("typePasswordX").classList;
        if (!validarSenha(senha) || senha == "") {
            document.getElementById("typePasswordX").classList.add("is-invalid");
            senha == "" ? "Por favor, digite a sua senha" : document.getElementById("invalidPassword").innerHTML = "A senha deverá ter o mínimo de oito caracteres, pelo menos uma letra e um número";
        } else {
            classes.contains("is-invalid") ? classes.replace("is-invalid", "is-valid") : classes.add("is-valid");
        }
    }

    function Enviar() {
        campos = ["typeNameX", "typeEmailX", "typePasswordX"];
        er = false;
        for (x = 0; x < campos.length; x++) {
            valor = document.getElementById(campos[x]).value;
            classes = document.getElementById(campos[x]).classList;
            if (classes.contains("is-invalid") || valor == "") er = true;
        }
        if (er) document.getElementById("buttonSubmit").classList.add("is-invalid");
    }
</script>